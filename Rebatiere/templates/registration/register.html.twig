{# {% extends 'base.html.twig' %} #}


{% block stylesheets %}
   <link rel="stylesheet" href="{{ asset('assets/css/register.css') }}">
   <link rel="stylesheet" href="{{ asset('assets/css/testCropper.css') }}">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.2/cropper.min.css" integrity="sha512-UtLOu9C7NuThQhuXXrGwx9Jb/z9zPQJctuAgNUBK3Z6kkSYT9wJ+2+dh6klS+TDBCV9kNPBbAxbVD+vCcfGPaA==" crossorigin="anonymous" referrerpolicy="no-referrer" />  
{% endblock %}

{% block body %}
  <body>
    <div class="bodyContainer">
        <div class="bodyOverlay">
            <div class="bigContainer">


    <h1>Register</h1>

    {{ form_errors(registrationForm) }}

    {{ form_start(registrationForm) }}
        {{ form_row(registrationForm.username, {label: 'Nom d\'utilisateur' })}}
        {{ form_row(registrationForm.firstname, {label: 'Prénom' })}}
        {{ form_row(registrationForm.lastname, {label: 'Nom' })}}
        {{ form_row(registrationForm.plainPassword, {label: 'Mot de passe' })}}

        {# Champ de téléchargement de l'image #}
        <label for="profileImageInput">Photo de profil</label>
        <input type="file" id="profileImageInput" accept="image/jpeg, image/png, image/gif">

        {# Container #}
        <div class="container" style="margin-top: 20px;">
            {# Image téléchargée avec outil crop #}
                <div class="imageToCropContainer">
                    <img id="imageToCrop" style="display: none;">
                </div>
            
            {# Image croppée #}
                <div class="cropOutputContainer">
                    <img src="" id="cropOutput" style="max-width: 350px">
                </div>

            {# Input caché contenant l'image #}
                {# <input type="hidden" id="croppedImageData" name="croppedImageData"> #}
                <input type="file" id="croppedImageData" name="croppedImageData" style="display:none">
        </div>

        <button type="button" id="cropImageBtn">Crop!</button>

        {{ form_row(registrationForm.agreeTerms) }}

        <button type="submit" class="btn">Register</button>
        
    {{ form_end(registrationForm) }}

        </div>
      </div>
    </div>
  </body>
{% endblock %}

{% block javascripts %} 
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.2/cropper.min.js" integrity="sha512-JyCZjCOZoyeQZSd5+YEAcFgz2fowJ1F1hyJOXgtKu4llIa0KneLcidn5bwfutiehUTiOuK87A986BZJMko0eWQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{# <script src="{{ asset('assets/javascript/cropperTest.js') }}"> </script> #}
<script src="{{ asset('assets/javascript/cropperProfile.js') }}"></script>
{% endblock %}  
